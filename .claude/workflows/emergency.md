# ç·Šæ€¥æ™‚å¯¾å¿œãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼

## ç·Šæ€¥äº‹æ…‹ã®åˆ†é¡

### ãƒ¬ãƒ™ãƒ«1: é‡å¤§ï¼ˆã‚·ã‚¹ãƒ†ãƒ åœæ­¢ï¼‰
```yaml
ç—‡çŠ¶:
  - ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³å®Œå…¨åœæ­¢
  - ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ç ´æ
  - èªè¨¼å®Œå…¨å¤±æ•—
  - å¤§é‡ãƒ‡ãƒ¼ã‚¿æ¶ˆå¤±

å¯¾å¿œæ™‚é–“: å³åº§ï¼ˆ5åˆ†ä»¥å†…ï¼‰
è²¬ä»»è€…: é–‹ç™ºãƒãƒ¼ãƒ å…¨å“¡
ã‚¨ã‚¹ã‚«ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³: å¿…è¦
```

### ãƒ¬ãƒ™ãƒ«2: é«˜ï¼ˆæ©Ÿèƒ½éšœå®³ï¼‰
```yaml
ç—‡çŠ¶:
  - ç‰¹å®šæ©Ÿèƒ½ã®å®Œå…¨åœæ­¢
  - ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹å¤§å¹…åŠ£åŒ–
  - APIåˆ¶é™é•åã«ã‚ˆã‚‹é•·æœŸåœæ­¢
  - ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è„†å¼±æ€§ç™ºè¦‹

å¯¾å¿œæ™‚é–“: 30åˆ†ä»¥å†…
è²¬ä»»è€…: æ‹…å½“é–‹ç™ºè€…
ã‚¨ã‚¹ã‚«ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³: 1æ™‚é–“ã§æœªè§£æ±ºæ™‚
```

### ãƒ¬ãƒ™ãƒ«3: ä¸­ï¼ˆéƒ¨åˆ†çš„å•é¡Œï¼‰
```yaml
ç—‡çŠ¶:
  - ä¸€éƒ¨ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¸ã®å½±éŸ¿
  - è»½å¾®ãªãƒ‡ãƒ¼ã‚¿ä¸æ•´åˆ
  - éé‡è¦æ©Ÿèƒ½ã®éšœå®³
  - ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹è»½å¾®åŠ£åŒ–

å¯¾å¿œæ™‚é–“: 2æ™‚é–“ä»¥å†…
è²¬ä»»è€…: æ‹…å½“é–‹ç™ºè€…
ã‚¨ã‚¹ã‚«ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³: 1å–¶æ¥­æ—¥ã§æœªè§£æ±ºæ™‚
```

## å³åº§å®Ÿè¡Œæ‰‹é †ï¼ˆãƒ¬ãƒ™ãƒ«1ï¼‰

### 1. ç·Šæ€¥åœæ­¢ãƒ»çŠ¶æ³ç¢ºèªï¼ˆ5åˆ†ä»¥å†…ï¼‰
```bash
# ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ç·Šæ€¥åœæ­¢
pkill -f "python.*twitter_blocker"
pkill -f "python.*main.py"

# ãƒ—ãƒ­ã‚»ã‚¹ç¢ºèª
ps aux | grep -E "(twitter_blocker|main.py)"

# ã‚·ã‚¹ãƒ†ãƒ çŠ¶æ³ç¢ºèª
df -h  # ãƒ‡ã‚£ã‚¹ã‚¯å®¹é‡
free -m  # ãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡
top  # CPU/ãƒ—ãƒ­ã‚»ã‚¹çŠ¶æ³

echo "âœ… ç·Šæ€¥åœæ­¢å®Œäº† $(date)"
```

### 2. ç·Šæ€¥ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ï¼ˆ2åˆ†ä»¥å†…ï¼‰
```bash
#!/bin/bash
# emergency-backup.sh

TIMESTAMP=$(date +%Y%m%d_%H%M%S)
BACKUP_DIR="emergency_backup_${TIMESTAMP}"

mkdir -p "$BACKUP_DIR"

# é‡è¦ãƒ•ã‚¡ã‚¤ãƒ«ã®ç·Šæ€¥ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—
cp block_history.db "$BACKUP_DIR/" 2>/dev/null
cp cookies.json "$BACKUP_DIR/" 2>/dev/null
cp users.json "$BACKUP_DIR/" 2>/dev/null
cp -r cache/ "$BACKUP_DIR/" 2>/dev/null

# ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ç¢ºèª
ls -la "$BACKUP_DIR/"

echo "ğŸš¨ ç·Šæ€¥ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—å®Œäº†: $BACKUP_DIR"
echo "ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—æ™‚åˆ»: $(date)"
```

### 3. å•é¡Œè¨ºæ–­ï¼ˆ5åˆ†ä»¥å†…ï¼‰
```bash
#!/bin/bash
# emergency-diagnosis.sh

echo "ğŸ” ç·Šæ€¥è¨ºæ–­é–‹å§‹ $(date)"
echo "================================"

# ãƒ•ã‚¡ã‚¤ãƒ«ã‚·ã‚¹ãƒ†ãƒ ç¢ºèª
echo "## ãƒ‡ã‚£ã‚¹ã‚¯ä½¿ç”¨é‡"
df -h

echo -e "\n## é‡è¦ãƒ•ã‚¡ã‚¤ãƒ«å­˜åœ¨ç¢ºèª"
for file in block_history.db cookies.json users.json; do
    if [ -f "$file" ]; then
        echo "âœ… $file (ã‚µã‚¤ã‚º: $(stat -c%s $file) bytes)"
    else
        echo "âŒ $file (å­˜åœ¨ã—ãªã„)"
    fi
done

echo -e "\n## ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ•´åˆæ€§ç¢ºèª"
if sqlite3 block_history.db "PRAGMA integrity_check;" 2>/dev/null; then
    echo "âœ… ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ­£å¸¸"
else
    echo "âŒ ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ç ´æã®å¯èƒ½æ€§"
fi

echo -e "\n## ãƒ¡ãƒ¢ãƒªãƒ»ãƒ—ãƒ­ã‚»ã‚¹çŠ¶æ³"
free -m
ps aux | grep -E "(twitter|python)" | head -10

echo -e "\n## æœ€æ–°ãƒ­ã‚°ï¼ˆç›´è¿‘50è¡Œï¼‰"
tail -50 twitter_blocker.log 2>/dev/null || echo "ãƒ­ã‚°ãƒ•ã‚¡ã‚¤ãƒ«ãªã—"

echo -e "\n## ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ç¢ºèª"
ping -c 3 twitter.com 2>/dev/null && echo "âœ… ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯æ­£å¸¸" || echo "âŒ ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯å•é¡Œ"

echo "ğŸ” ç·Šæ€¥è¨ºæ–­å®Œäº† $(date)"
```

## å•é¡Œåˆ¥å¯¾å¿œæ‰‹é †

### ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ç ´æ
```bash
# 1. ç ´æçŠ¶æ³ç¢ºèª
sqlite3 block_history.db "PRAGMA integrity_check;"

# 2. ä¿®å¾©è©¦è¡Œ
sqlite3 block_history.db "PRAGMA main.integrity_check;"
sqlite3 block_history.db ".recover" | sqlite3 recovered.db

# 3. ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã‹ã‚‰ã®å¾©æ—§
if [ -f "backup/block_history_latest.db" ]; then
    cp "backup/block_history_latest.db" block_history.db
    echo "âœ… ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã‹ã‚‰å¾©æ—§"
else
    echo "âŒ ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ãƒ•ã‚¡ã‚¤ãƒ«ãªã—"
fi

# 4. æœ€å°é™ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹å†ä½œæˆ
if [ ! -f "block_history.db" ]; then
    python3 -c "
from twitter_blocker.database import DatabaseManager
db = DatabaseManager('block_history.db')
db.init_database()
print('âœ… æœ€å°é™ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ä½œæˆå®Œäº†')
"
fi
```

### èªè¨¼å¤±æ•—
```bash
# 1. ã‚¯ãƒƒã‚­ãƒ¼ãƒ•ã‚¡ã‚¤ãƒ«ç¢ºèª
if [ -f "cookies.json" ]; then
    echo "ğŸ“„ ç¾åœ¨ã®ã‚¯ãƒƒã‚­ãƒ¼ãƒ•ã‚¡ã‚¤ãƒ«:"
    jq '.' cookies.json 2>/dev/null || echo "âŒ JSONãƒ‘ãƒ¼ã‚¹å¤±æ•—"
else
    echo "âŒ cookies.json ãŒå­˜åœ¨ã—ã¾ã›ã‚“"
fi

# 2. èªè¨¼çŠ¶æ…‹ãƒ†ã‚¹ãƒˆ
python3 -c "
from twitter_blocker.twitter_api import TwitterAPI
api = TwitterAPI()
try:
    user_info = api.get_login_user_info()
    print(f'âœ… èªè¨¼æˆåŠŸ: {user_info}')
except Exception as e:
    print(f'âŒ èªè¨¼å¤±æ•—: {e}')
"

# 3. ã‚¯ãƒƒã‚­ãƒ¼ä¿®å¾©æ‰‹é †
echo "ğŸ”§ ã‚¯ãƒƒã‚­ãƒ¼ä¿®å¾©æ‰‹é †:"
echo "1. ãƒ–ãƒ©ã‚¦ã‚¶ã§Twitterã«ãƒ­ã‚°ã‚¤ãƒ³"
echo "2. é–‹ç™ºè€…ãƒ„ãƒ¼ãƒ« > Application > Cookies"
echo "3. ct0ã¨auth_tokenã®å€¤ã‚’ã‚³ãƒ”ãƒ¼"
echo "4. cookies.jsonã‚’æ›´æ–°"
```

### APIåˆ¶é™é•å
```bash
# 1. APIåˆ¶é™çŠ¶æ³ç¢ºèª
python3 -c "
import requests
import json

# æœ€å¾Œã®APIå¿œç­”ãƒ˜ãƒƒãƒ€ãƒ¼ç¢ºèªï¼ˆãƒ­ã‚°ã‹ã‚‰ï¼‰
print('ğŸ“Š APIåˆ¶é™çŠ¶æ³ã®ç¢ºèªãŒå¿…è¦')
print('1. æœ€æ–°ã®APIã‚¨ãƒ©ãƒ¼ãƒ­ã‚°ã‚’ç¢ºèª')
print('2. x-rate-limit-* ãƒ˜ãƒƒãƒ€ãƒ¼ã®å€¤ã‚’ç¢ºèª')
print('3. åˆ¶é™è§£é™¤ã¾ã§å¾…æ©Ÿ')
"

# 2. å¼·åˆ¶å¾…æ©Ÿ
echo "â° APIåˆ¶é™è§£é™¤å¾…æ©Ÿï¼ˆ15åˆ†ï¼‰"
sleep 900

# 3. æ®µéšçš„å¾©æ—§
echo "ğŸ”„ æ®µéšçš„å¾©æ—§é–‹å§‹"
python3 main.py --max-users 1 --delay 5.0  # æœ€å°é™ãƒ†ã‚¹ãƒˆ
```

### å¤§å®¹é‡ãƒ•ã‚¡ã‚¤ãƒ«å•é¡Œ
```bash
# 1. å¤§å®¹é‡ãƒ•ã‚¡ã‚¤ãƒ«æ¤œå‡º
find . -type f -size +100M -exec ls -lh {} + 2>/dev/null

# 2. ãƒ­ã‚°ãƒ•ã‚¡ã‚¤ãƒ«åœ§ç¸®ãƒ»å‰Šé™¤
gzip twitter_blocker.log 2>/dev/null
find . -name "*.log" -mtime +7 -delete

# 3. ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—
rm -rf cache/lookups/*.json
rm -rf cache/profiles/*.json
rm -rf cache/relationships/*.json

echo "ğŸ§¹ ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—å®Œäº†"
df -h  # å®¹é‡ç¢ºèª
```

## å¾©æ—§æ‰‹é †

### æ®µéšçš„å¾©æ—§
```bash
#!/bin/bash
# gradual-recovery.sh

echo "ğŸ”„ æ®µéšçš„å¾©æ—§é–‹å§‹"

# ãƒ•ã‚§ãƒ¼ã‚º1: æœ€å°é™æ©Ÿèƒ½ç¢ºèª
echo "## ãƒ•ã‚§ãƒ¼ã‚º1: æœ€å°é™ãƒ†ã‚¹ãƒˆ"
timeout 30 python3 main.py --max-users 1 --delay 5.0
if [ $? -eq 0 ]; then
    echo "âœ… ãƒ•ã‚§ãƒ¼ã‚º1æˆåŠŸ"
else
    echo "âŒ ãƒ•ã‚§ãƒ¼ã‚º1å¤±æ•— - åŸºæœ¬æ©Ÿèƒ½ã«å•é¡Œ"
    exit 1
fi

# ãƒ•ã‚§ãƒ¼ã‚º2: å°‘é‡ãƒ‡ãƒ¼ã‚¿ãƒ†ã‚¹ãƒˆ
echo "## ãƒ•ã‚§ãƒ¼ã‚º2: å°‘é‡ãƒ‡ãƒ¼ã‚¿ãƒ†ã‚¹ãƒˆ"
timeout 60 python3 main.py --max-users 5 --delay 3.0
if [ $? -eq 0 ]; then
    echo "âœ… ãƒ•ã‚§ãƒ¼ã‚º2æˆåŠŸ"
else
    echo "âŒ ãƒ•ã‚§ãƒ¼ã‚º2å¤±æ•— - ã‚¹ã‚±ãƒ¼ãƒ«å•é¡Œã®å¯èƒ½æ€§"
    exit 1
fi

# ãƒ•ã‚§ãƒ¼ã‚º3: é€šå¸¸é‹ç”¨å¾©å¸°
echo "## ãƒ•ã‚§ãƒ¼ã‚º3: é€šå¸¸é‹ç”¨å¾©å¸°"
echo "æ‰‹å‹•ç¢ºèªå¾Œã€é€šå¸¸ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ãƒ¼ã§å®Ÿè¡Œã—ã¦ãã ã•ã„"
echo "python3 main.py --all --auto-retry"
```

### ãƒ‡ãƒ¼ã‚¿æ•´åˆæ€§ç¢ºèª
```bash
#!/bin/bash
# data-integrity-check.sh

echo "ğŸ” ãƒ‡ãƒ¼ã‚¿æ•´åˆæ€§ç¢ºèª"

# ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒ†ãƒ¼ãƒ–ãƒ«ç¢ºèª
sqlite3 block_history.db "
.tables
SELECT COUNT(*) as total_records FROM block_history;
SELECT status, COUNT(*) FROM block_history GROUP BY status;
SELECT COUNT(*) as permanent_failures FROM block_history WHERE status = 'failed' AND user_status IN ('suspended', 'not_found', 'deactivated');
"

# é‡è¤‡ãƒ‡ãƒ¼ã‚¿ç¢ºèª
sqlite3 block_history.db "
SELECT user_id, screen_name, COUNT(*) as count 
FROM block_history 
GROUP BY user_id, screen_name 
HAVING count > 1;
"

# ãƒ•ã‚¡ã‚¤ãƒ«æ•´åˆæ€§
echo "## ãƒ•ã‚¡ã‚¤ãƒ«æ•´åˆæ€§"
md5sum block_history.db cookies.json users.json 2>/dev/null

echo "âœ… ãƒ‡ãƒ¼ã‚¿æ•´åˆæ€§ç¢ºèªå®Œäº†"
```

## é€šä¿¡ãƒ»é€£çµ¡ä½“åˆ¶

### ã‚¤ãƒ³ã‚·ãƒ‡ãƒ³ãƒˆå ±å‘Šãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ
```markdown
# ğŸš¨ ç·Šæ€¥ã‚¤ãƒ³ã‚·ãƒ‡ãƒ³ãƒˆå ±å‘Š

## åŸºæœ¬æƒ…å ±
- **ç™ºç”Ÿæ™‚åˆ»**: YYYY-MM-DD HH:MM:SS
- **æ¤œå‡ºè€…**: [åå‰]
- **é‡è¦åº¦**: ãƒ¬ãƒ™ãƒ«1/2/3
- **å½±éŸ¿ç¯„å›²**: [å½±éŸ¿ã‚’å—ã‘ã‚‹æ©Ÿèƒ½ãƒ»ãƒ¦ãƒ¼ã‚¶ãƒ¼]

## ç—‡çŠ¶
- **ç¾è±¡**: [å…·ä½“çš„ãªç—‡çŠ¶]
- **ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸**: [ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸å…¨æ–‡]
- **å†ç¾æ–¹æ³•**: [å†ç¾æ‰‹é †]

## å®Ÿæ–½æ¸ˆã¿å¯¾å¿œ
- [ ] ç·Šæ€¥åœæ­¢å®Ÿè¡Œ
- [ ] ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ä½œæˆ
- [ ] å•é¡Œè¨ºæ–­å®Ÿè¡Œ
- [ ] [ãã®ä»–ã®å®Ÿæ–½æ¸ˆã¿å¯¾å¿œ]

## ç¾åœ¨ã®çŠ¶æ³
- **ã‚·ã‚¹ãƒ†ãƒ çŠ¶æ…‹**: åœæ­¢ä¸­/éƒ¨åˆ†å‹•ä½œ/æ­£å¸¸
- **ãƒ‡ãƒ¼ã‚¿å½±éŸ¿**: ã‚ã‚Š/ãªã—/ä¸æ˜
- **å¾©æ—§äºˆæƒ³æ™‚é–“**: [äºˆæƒ³æ™‚é–“]

## æ¬¡ã®ã‚¢ã‚¯ã‚·ãƒ§ãƒ³
1. [æ¬¡ã«å®Ÿè¡Œäºˆå®šã®ã‚¢ã‚¯ã‚·ãƒ§ãƒ³]
2. [ä»£æ›¿æ‰‹æ®µã®æ¤œè¨]
3. [ã‚¨ã‚¹ã‚«ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³äºˆå®š]

## æ·»ä»˜æƒ…å ±
- ãƒ­ã‚°ãƒ•ã‚¡ã‚¤ãƒ«: [ãƒ•ã‚¡ã‚¤ãƒ«å]
- ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆ: [å¿…è¦ã«å¿œã˜ã¦]
- è¨ºæ–­çµæœ: [diagnosticçµæœ]
```

### ã‚¨ã‚¹ã‚«ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³åŸºæº–
```yaml
å³åº§ã‚¨ã‚¹ã‚«ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³:
  - ãƒ‡ãƒ¼ã‚¿æ¶ˆå¤±ç™ºç”Ÿ
  - ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ä¾µå®³ç–‘ã„
  - å¾©æ—§æ–¹æ³•ä¸æ˜

æ™‚é–“åˆ¶é™ã‚¨ã‚¹ã‚«ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³:
  - ãƒ¬ãƒ™ãƒ«1: 1æ™‚é–“ã§æœªè§£æ±º
  - ãƒ¬ãƒ™ãƒ«2: 4æ™‚é–“ã§æœªè§£æ±º  
  - ãƒ¬ãƒ™ãƒ«3: 1å–¶æ¥­æ—¥ã§æœªè§£æ±º

ã‚¨ã‚¹ã‚«ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³å…ˆ:
  - ã‚·ãƒ‹ã‚¢é–‹ç™ºè€…
  - ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼
  - ã‚·ã‚¹ãƒ†ãƒ ç®¡ç†è€…
```

## äº‹å¾Œå¯¾å¿œ

### ã‚¤ãƒ³ã‚·ãƒ‡ãƒ³ãƒˆãƒ¬ãƒãƒ¼ãƒˆä½œæˆ
```markdown
# ã‚¤ãƒ³ã‚·ãƒ‡ãƒ³ãƒˆäº‹å¾Œå ±å‘Šæ›¸

## ã‚¤ãƒ³ã‚·ãƒ‡ãƒ³ãƒˆæ¦‚è¦
- **ã‚¤ãƒ³ã‚·ãƒ‡ãƒ³ãƒˆID**: INC-YYYYMMDD-001
- **ç™ºç”ŸæœŸé–“**: [é–‹å§‹æ™‚åˆ»] - [è§£æ±ºæ™‚åˆ»]
- **å½±éŸ¿æ™‚é–“**: [æ™‚é–“]
- **é‡è¦åº¦**: ãƒ¬ãƒ™ãƒ«1/2/3

## æ ¹æœ¬åŸå› åˆ†æ
### ç›´æ¥åŸå› 
[å•é¡Œã®ç›´æ¥çš„ãªåŸå› ]

### æ ¹æœ¬åŸå› 
[å•é¡Œã®æ ¹æœ¬çš„ãªåŸå› ]

### è¦å› åˆ†æ
1. [è¦å› 1]
2. [è¦å› 2]
3. [è¦å› 3]

## å¯¾å¿œã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³
| æ™‚åˆ» | å®Ÿæ–½è€… | ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ | çµæœ |
|------|--------|------------|------|
| HH:MM | [åå‰] | [ã‚¢ã‚¯ã‚·ãƒ§ãƒ³] | [çµæœ] |

## å½±éŸ¿è©•ä¾¡
- **ã‚·ã‚¹ãƒ†ãƒ åœæ­¢æ™‚é–“**: [æ™‚é–“]
- **å½±éŸ¿ãƒ¦ãƒ¼ã‚¶ãƒ¼æ•°**: [äººæ•°]
- **ãƒ‡ãƒ¼ã‚¿å½±éŸ¿**: [å½±éŸ¿å†…å®¹]
- **ãƒ“ã‚¸ãƒã‚¹å½±éŸ¿**: [å½±éŸ¿è©•ä¾¡]

## æ”¹å–„ã‚¢ã‚¯ã‚·ãƒ§ãƒ³
### å³åº§å®Ÿæ–½ï¼ˆå®Œäº†æ¸ˆã¿ï¼‰
- [ ] [æ”¹å–„ã‚¢ã‚¯ã‚·ãƒ§ãƒ³1]
- [ ] [æ”¹å–„ã‚¢ã‚¯ã‚·ãƒ§ãƒ³2]

### çŸ­æœŸå®Ÿæ–½ï¼ˆ1é€±é–“ä»¥å†…ï¼‰
- [ ] [æ”¹å–„ã‚¢ã‚¯ã‚·ãƒ§ãƒ³3]
- [ ] [æ”¹å–„ã‚¢ã‚¯ã‚·ãƒ§ãƒ³4]

### é•·æœŸå®Ÿæ–½ï¼ˆ1ãƒ¶æœˆä»¥å†…ï¼‰
- [ ] [æ”¹å–„ã‚¢ã‚¯ã‚·ãƒ§ãƒ³5]
- [ ] [æ”¹å–„ã‚¢ã‚¯ã‚·ãƒ§ãƒ³6]

## å­¦ç¿’ãƒ»æ”¹å–„ç‚¹
1. [å­¦ç¿’äº‹é …1]
2. [å­¦ç¿’äº‹é …2]
3. [ãƒ—ãƒ­ã‚»ã‚¹æ”¹å–„ç‚¹]

## æ·»ä»˜è³‡æ–™
- ãƒ­ã‚°ãƒ•ã‚¡ã‚¤ãƒ«
- è¨ºæ–­çµæœ
- å¾©æ—§ã‚¹ã‚¯ãƒªãƒ—ãƒˆ
```

### äºˆé˜²ç­–å®Ÿè£…
```bash
#!/bin/bash
# preventive-measures.sh

echo "ğŸ›¡ï¸ äºˆé˜²ç­–å®Ÿè£…"

# 1. è‡ªå‹•ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã®è¨­å®š
cat > backup_cron.sh << 'EOF'
#!/bin/bash
# æ¯æ™‚é–“å®Ÿè¡Œã®ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—
TIMESTAMP=$(date +%Y%m%d_%H%M)
BACKUP_DIR="backup/auto_${TIMESTAMP}"

mkdir -p "$BACKUP_DIR"
cp block_history.db "$BACKUP_DIR/"
cp cookies.json "$BACKUP_DIR/" 2>/dev/null
cp users.json "$BACKUP_DIR/" 2>/dev/null

# å¤ã„ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã®å‰Šé™¤ï¼ˆ24æ™‚é–“ä»¥ä¸Šå‰ï¼‰
find backup/ -name "auto_*" -mtime +1 -exec rm -rf {} + 2>/dev/null

echo "âœ… è‡ªå‹•ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—å®Œäº†: $BACKUP_DIR"
EOF

chmod +x backup_cron.sh

# 2. ãƒ˜ãƒ«ã‚¹ãƒã‚§ãƒƒã‚¯ã‚¹ã‚¯ãƒªãƒ—ãƒˆ
cat > health_check.sh << 'EOF'
#!/bin/bash
# ã‚·ã‚¹ãƒ†ãƒ ãƒ˜ãƒ«ã‚¹ãƒã‚§ãƒƒã‚¯

# ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ç¢ºèª
if ! sqlite3 block_history.db "SELECT 1;" >/dev/null 2>&1; then
    echo "âŒ ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚¨ãƒ©ãƒ¼æ¤œå‡º"
    # ç·Šæ€¥å‡¦ç†å®Ÿè¡Œ
    ./emergency-backup.sh
fi

# ãƒ‡ã‚£ã‚¹ã‚¯å®¹é‡ç¢ºèª
DISK_USAGE=$(df -h . | awk 'NR==2 {print $5}' | sed 's/%//')
if [ "$DISK_USAGE" -gt 90 ]; then
    echo "âš ï¸ ãƒ‡ã‚£ã‚¹ã‚¯ä½¿ç”¨é‡è­¦å‘Š: ${DISK_USAGE}%"
fi

# ãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡ç¢ºèª
MEMORY_USAGE=$(free | awk 'NR==2{printf "%.2f", $3*100/$2}')
if (( $(echo "$MEMORY_USAGE > 90" | bc -l) )); then
    echo "âš ï¸ ãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡è­¦å‘Š: ${MEMORY_USAGE}%"
fi

echo "âœ… ãƒ˜ãƒ«ã‚¹ãƒã‚§ãƒƒã‚¯å®Œäº† $(date)"
EOF

chmod +x health_check.sh

# 3. ç›£è¦–è¨­å®š
echo "crontabè¨­å®šä¾‹:"
echo "0 * * * * /path/to/backup_cron.sh"
echo "*/15 * * * * /path/to/health_check.sh"

echo "âœ… äºˆé˜²ç­–å®Ÿè£…å®Œäº†"
```

## ç·Šæ€¥é€£çµ¡å…ˆãƒ»ãƒªã‚½ãƒ¼ã‚¹

### é‡è¦ãƒ•ã‚¡ã‚¤ãƒ«ã®å ´æ‰€
```bash
# è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«
~/.claude/CLAUDE.md                    # Claude Codeè¨­å®š
./cookies.json                         # Twitterèªè¨¼æƒ…å ±
./users.json                          # å‡¦ç†å¯¾è±¡ãƒ¦ãƒ¼ã‚¶ãƒ¼

# ãƒ‡ãƒ¼ã‚¿ãƒ•ã‚¡ã‚¤ãƒ«  
./block_history.db                    # ãƒ¡ã‚¤ãƒ³ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹
./cache/                              # ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª

# ãƒ­ã‚°ãƒ•ã‚¡ã‚¤ãƒ«
./twitter_blocker.log                 # ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãƒ­ã‚°
./error_log.jsonl                     # ã‚¨ãƒ©ãƒ¼ãƒ­ã‚°

# ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—
./backup/                             # æ‰‹å‹•ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—
./emergency_backup_*/                 # ç·Šæ€¥ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—
```

### ç·Šæ€¥æ™‚ã‚³ãƒãƒ³ãƒ‰ä¸€è¦§
```bash
# å³åº§å®Ÿè¡Œ
./emergency-backup.sh                 # ç·Šæ€¥ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—
./emergency-diagnosis.sh              # å•é¡Œè¨ºæ–­
./gradual-recovery.sh                 # æ®µéšçš„å¾©æ—§

# ç¢ºèªã‚³ãƒãƒ³ãƒ‰
sqlite3 block_history.db "PRAGMA integrity_check;"  # DBæ•´åˆæ€§
python3 -c "from twitter_blocker.twitter_api import TwitterAPI; TwitterAPI().get_login_user_info()"  # èªè¨¼ç¢ºèª
df -h && free -m                      # ã‚·ã‚¹ãƒ†ãƒ ãƒªã‚½ãƒ¼ã‚¹

# å¾©æ—§ã‚³ãƒãƒ³ãƒ‰
cp backup/latest/block_history.db .   # DBå¾©æ—§
python3 main.py --max-users 1         # æœ€å°é™ãƒ†ã‚¹ãƒˆ
python3 main.py --stats               # çµ±è¨ˆç¢ºèª
```